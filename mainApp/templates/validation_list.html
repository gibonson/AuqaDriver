{% extends 'base.html' %}

{% block title %}
AquaDriver - Notification List
{% endblock %}


{% block content %}
<h1>Notification List</h1>
<p>
    <button class="btn btn-info w-100" type="button" data-bs-toggle="collapse" data-bs-target="#form"
        aria-expanded="false" aria-controls="collapseExample">
        Add Notification
    </button>
</p>
<div class="collapse" id="form">
    <div class="card card-body">
        <form method="POST" class="form-register" style="color:white" novalidate>

            {{ form.hidden_tag() }}
            <table>

                <tr>
                    <td>
                        {{ form.description.label() }}
                    </td>
                    <td>
                        {{ form.description(class="form-control" , placeholder = 'description') }}
                        <small class="form-text text-danger">{{ form.description.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.deviceIP.label() }}
                    </td>
                    <td>
                        {{ form.deviceIP(class="form-control" , placeholder = 'deviceIP') }}
                        <small class="form-text text-danger">{{ form.deviceIP.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.deviceName.label() }}
                    </td>
                    <td>
                        {{ form.deviceName(class="form-control" , placeholder = 'deviceName') }}
                        <small class="form-text text-danger">{{ form.deviceName.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.addInfo.label() }}
                    </td>
                    <td>
                        {{ form.addInfo(class="form-control" , placeholder = 'addInfo') }}
                        <small class="form-text text-danger">{{ form.addInfo.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.type.label() }}
                    </td>
                    <td>
                        {{ form.type(class="form-control" , placeholder = 'type') }}
                        <small class="form-text text-danger">{{ form.type.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.condition.label() }}
                    </td>
                    <td>
                        {{ form.condition(class="form-select" , placeholder = 'condition') }}
                        <small class="form-text text-danger">{{ form.condition.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.value.label() }}
                    </td>
                    <td>
                        {{ form.value(class="form-control" , placeholder = 'value') }}
                        <small class="form-text text-danger">{{ form.value.errors[0] }}</small>
                    </td>
                </tr>

                <tr>
                    <td>
                        {{ form.status.label() }}
                    </td>
                    <td>
                        {{ form.status(class="form-select" , placeholder = 'status') }}
                        <small class="form-text text-danger">{{ form.status.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.actionType.label() }}
                    </td>
                    <td>
                        {{ form.actionType(class="form-select" , placeholder = 'actionType') }}
                        <small class="form-text text-danger">{{ form.actionType.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.eventId.label() }}
                    </td>
                    <td>
                        {{ form.eventId(class="form-control" , placeholder = 'eventId') }}
                        <small class="form-text text-danger">{{ form.eventId.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td>
                        {{ form.message.label() }}
                    </td>
                    <td>
                        {{ form.message(class="form-control" , placeholder = 'message') }}
                        <small class="form-text text-danger">{{ form.message.errors[0] }}</small>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"></td>
                </tr>
            </table>
            {{ form.submit(class="btn btn-lg btn-block btn-primary") }}
        </form>

    </div>
</br>
</div>
<table class="table table-striped table-dark  table-fixed" style="width: 100%">
    <thead>
        <tr>
            <th>#</th>
            <th>Description</th>
            <th>Device IP</th>
            <th>Device Name</th>
            <th>Additional Info</th>
            <th>Type</th>
            <th>Condition</th>
            <th>Value</th>
            <th>validation Type</th>
            <th>Event ID</th>
            <th>Message</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for validation in validationList %}
        <tr>
            <td>{{validation.id}}</td>
            <td>{{validation.description}}</td>
            <td>{{validation.deviceIP}}</td>
            <td>{{validation.deviceName}}</td>
            <td>{{validation.addInfo}}</td>
            <td>{{validation.type}}</td>
            <td>{{validation.condition}}</td>
            <td>{{validation.value}}</td>
            <td>{{validation.actionType}}</td>
            <td>{{validation.eventId}}</td>
            <td>{{validation.message}}</td>
            <td>{{validation.status}}</td>
            <td>
                <div class="btn-group">
                    <a href="{{url_for('change_validation_status',id=validation.id)}}"
                        class="btn btn-warning btn-lg active" role="button" aria-pressed="true">Change
                        Status</a>
                    <a href="{{url_for('remove_validation',id=validation.id)}}" class="btn btn-danger btn-lg active"
                        role="button" aria-pressed="true">Remove</a>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}